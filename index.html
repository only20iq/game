<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" href="icon.jpg">
        <meta charset="utf-8">
        <title>Lobby</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <base target="_blank">
        <meta name="subject" content="">
        <meta name="description" content="JS Based Chatbot">
        <Meta name="Classification" content="">
        <Meta name="rating" content="">
        <meta name="category" content="">
        <meta name="keywords" content="js,chatbot,basic,chat,bot,ai">
        <meta name="author" content="">
        <meta name="robots" content="index, follow">
        <meta http-equiv="content-type" content="text/html;UTF-8">
        <meta http-equiv="content-language" content="en">
        <meta http-equiv="revisit-after" content="">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <link rel="shortcut icon" href="ico.ico">
        <noscript>Sorry, your browser does not support JavaScript!</noscript>
        <script src="start.js"></script>
        <style>
                    #coordinates {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: black;
            color: white;
            padding: 5px;
            z-index: 1000;
            min-width:160px;
          }
                  .imagemodel0 {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
            position: absolute;
            /* width: 550px;
            height: 550px; */
            background-color: transparent;
            background-size: cover;
            z-index:0;
            transform: translate(-50%, -50%);
        }
          .unselectable {
  user-drag: none; 
  user-select: none;
  -moz-user-select: none;
  -webkit-user-drag: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -webkit-touch-callout: none;
}
          *{padding:0;margin:0;}
          #controls {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
  position: fixed;
  bottom: 10px;
  right: 10px;
  padding: 5px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 10px;
  width: fit-content;
  z-index: 5;
  user-drag: none;
}

#btnUp, #btnLeft, #btnAuto, #btnRight, #btnDown, #btnUpLeft, #btnDownLeft, #btnUpRight, #btnDownRight {
  padding: 10px;
  border: none;
  border-radius: 5px;
  background-color: transparent;
  color: #333;
  font-size: 16px;
  font-weight: bold;
  touch-action: manipulation; /* Mobil cihazlarda çift tıklama zoom engellemek için */
}

#btnUp:active, #btnLeft:active, #btnAuto:active, #btnRight:active, #btnDown:active, #btnUpLeft:active, #btnDownLeft:active, #btnUpRight:active, #btnDownRight:active {
  background-color: #ddd;
}





@keyframes yavasHareket {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: -100vw 0; /* Resmin genişliği kadar sola kaydır */
  }
}


#benzersizID {
  position: fixed; /* Sabit pozisyon */
  top: 0;
  left: 0;
  width: 100%; /* Viewport genişliği */
  height: 100%; /* Viewport yüksekliği */
  background-image: url('output-onlinepngtools.png'); /* Şeffaf resminizin yolu */
  background-repeat: repeat; /* Yatay eksende tekrar etmesi için */
  background-size: contain; /* Resmin orijinal boyutu */
  z-index: 1;
  animation: yavasHareket 240s linear infinite; /* Animasyon süresini ayarlayın */
  opacity:0.51;
  backdrop-filter:blur(10px);
  background-blend-mode: lighten;
}







@keyframes blink1 {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
.explosion5 {
  position: absolute;
  border-radius: 500%;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave5 0.5s forwards, pulse5 1s forwards;
  z-index: 1;
}

@keyframes shockwave5 {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
    backdrop-filter: blur(0px);
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7),
                0 0 0 15px rgba(255, 216, 0, 0.8),
                0 0 0 30px rgba(255, 0, 0, 0.6),
                0 0 0 45px rgba(255, 255, 255, 0.4),
                0 0 0 60px rgba(255, 255, 255, 0.2);
  }
  100% {
    width: 200px; /* Genişlik 400px olarak ayarlandı */
    height: 200px; /* Yükseklik 400px olarak ayarlandı */
    opacity: 0;
    backdrop-filter: blur(10px); /* Bulanıklık efekti artırıldı */
    box-shadow: 0 0 0 60px rgba(255, 255, 255, 0),
                0 0 0 90px rgba(255, 216, 0, 0),
                0 0 0 120px rgba(255, 0, 0, 0),
                0 0 0 150px rgba(255, 255, 255, 0),
                0 0 0 180px rgba(255, 255, 255, 0);
  }
}

@keyframes pulse5 {
  0% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(0px);
  }
  70% {
    box-shadow: 0 0 0 20px rgba(255, 255, 255, 0); /* Gölge boyutu artırıldı */
    backdrop-filter: blur(10px); /* Bulanıklık efekti artırıldı */
  }
  100% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0);
    backdrop-filter: blur(0px);
  }
}
@keyframes blink2 {
  0% {
    opacity: 0.655;
    height:6px;
    border-radius: 5%;
  }
  100% {
    opacity: 0.8;
    height:1px;
    border-radius: 1000%;
  }
}
.trail1 {
    position: absolute;
    background-color: white;
    height:10px;
    width:10px;
}
.trail2 {
    position: absolute;
    background-color: red;
    height:10px;
    width:10px;
}
body {
  margin: 0;
  overflow: hidden;
  background: black; /* Arka planı siyah yap */
  position: relative;
  width: 8500px; /* Genişliği ekranın tamamını kaplayacak şekilde ayarla */
  height: 8500px; /* Yüksekliği ekranın tamamını kaplayacak şekilde ayarla */
  z-index: -1;
}

#main {
  background: url('qaevyh08hsx51.webp') repeat center center scroll;
  background-clip: padding-box;
  background-size: cover; /* Resmi kaplayacak şekilde ayarla */
  position: absolute; /* Pozisyonu sabitle */
  top:50%;
  left:50%;
  transform: translate(-50%, -50%); /* #main'i tam ortaya al */
  width: 4000px; /* Genişlik */
  height: 4000px; /* Yükseklik */
  z-index: 0; /* Z-index'i body'nin üzerine çıkar */
  backdrop-filter: blur(50px);
}

#character {
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;
  position: absolute;
  width: 375px;
  height: 666px;
  background: url(ship1.png);
  background-repeat: no-repeat;
  background-size: contain;
  transform: translate(-50%, -50%);
  /* border:1px solid red; */
  transform-origin: center center; /* Dönüşlerin merkez noktasını ayarla */
  z-index:0;
}


.smoke {
  position: absolute;
  background: rgba(0, 0, 0, 1);
  backdrop-filter: blur(100px);
  filter: blur(100px);
  border-radius: 50%;
  z-index: -1;
  transform: translate(-50%, -50%);
  /* transition: opacity 1s, width 1s, height 1s, background 1s; */
}
#core {
    position: absolute;
    top:65%;left:48%;
    background: url(core.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 78px;
  width: 78px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#core_gen {
    position: absolute;
    top:66%;left:48%;
    background: url(hole.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 78px;
  width: 78px;
  z-index:3;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#lasercannon1 {
    position: absolute;
    top:71%;left:69%;
    background: url(laser2.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 98.25px;
  width: 75px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#lasercannon2 {
    position: absolute;
    top:71%;left:6%;
    background: url(laser2.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 98.25px;
  width: 75px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#ultimatecannon1 {
    position: absolute;
    top:60%;left:56%;
    background: url(pturret.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 111px;
  width: 62.5px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#ultimatecannon2 {
    position: absolute;
    top:60%;left:21%;
    background: url(pturret.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 111px;
  width: 62.5px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#railgun1 {
    position: absolute;
    top:50%;left:43%;
    background: url(railgun1.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 75px;
  width: 37.5px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#ball {
    position: absolute;
    top:40%;left:43%;
    background: url(turret.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 74px;
  width: 33.25px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);
}
#laser1 {
    position: absolute;
    top:70%;left:43%;
    background: url(turret.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 74px;
  width: 33.25px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);

}
#laser2 {
    position: absolute;
    top:10%;left:43%;
    background: url(turret.png);
  background-repeat: no-repeat;
  background-size: contain;
  height: 74px;
  width: 33.25px;
  z-index:2;
  transform-origin: center center;
  transform: translate(-50%, -50%);

}

        .square {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: red;
        }
        .laser2object {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            position: absolute;
            width: 118.4px;
            height: 8.4px;
            background: url(l2.png);
            border-radius: 50%;
            background-size: contain;
            background-repeat: no-repeat;
            transform: translate(-50%, -50%);
            transform-origin: left center; /* Dönüşlerin merkez noktasını ayarla */
        }
        .fireball {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            position: absolute;
            width: 33.3px;
            height: 10px;
            background: url(fire.png);
            border-radius: 50%;
            background-size: contain;
            background-repeat: no-repeat;
            transform: translate(-50%, -50%);
        }
        .ballflash {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            position: absolute;
            width: 18px;
            height: 16.2px;
            background: url(hole.png);
            border-radius: 50%;
            background-size: contain;
            background-repeat: no-repeat;
            transform: translate(-50%, -50%);
        }
        .missile {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            position: absolute;
            width: 10px;
            height: 10px;
            background: whitesmoke;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        .laser {
            -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
            position: absolute;
            width: 10px;
            height: 10px;
            background: #FCEAFF;
            border-radius: 50%;
            z-index:3;
            animation: flameTrail 0.60s infinite;
            transform: translate(-50%, -50%);
        }
        /* .explosion {
            display: none;
            position: absolute;
            width: 30px;
            height: 30px;
            background: orange;
            border-radius: 50%;
        } */


.missile.trail {
    /* Alev efekti için anahtar kareler animasyonu */
    animation: flameTrail 0.60s infinite;
}

@keyframes flameTrail {
    0% {
        box-shadow: 0 0 10px 2px aqua;
    }
    50% {
        box-shadow: 0 0 20px 4px azure;
    }
    100% {
        box-shadow: 0 0 10px 2px antiquewhite;
    }
}

/* @keyframes shockwave {
  0% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.5),
                0 0 0 15px rgba(255, 255, 255, 0.3),
                0 0 0 30px rgba(255, 255, 255, 0.2),
                0 0 0 45px rgba(255, 255, 255, 0.1),
                0 0 0 60px rgba(255, 255, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 60px rgba(255, 255, 255, 0),
                0 0 0 120px rgba(255, 255, 255, 0),
                0 0 0 180px rgba(255, 255, 255, 0),
                0 0 0 240px rgba(255, 255, 255, 0),
                0 0 0 300px rgba(255, 255, 255, 0);
    opacity: 0;
  }
} */


@keyframes shockwave {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.explosion {
  position: absolute;
  border-radius: 500%;
  background-color: white;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave1 0.2s forwards;
  z-index:1;
}
@keyframes shockwave1 {
  0% {
    width: 0;
    height: 0;
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.5),
                0 0 0 15px rgba(255, 255, 255, 0.3),
                0 0 0 30px rgba(255, 255, 255, 0.2),
                0 0 0 45px rgba(255, 255, 255, 0.1),
                0 0 0 60px rgba(255, 255, 255, 0);
  }
  100% {
    width: 200px;
    height: 200px;
    box-shadow: 0 0 0 60px rgba(255, 255, 255, 0),
                0 0 0 120px rgba(255, 255, 255, 0),
                0 0 0 180px rgba(255, 255, 255, 0),
                0 0 0 240px rgba(255, 255, 255, 0),
                0 0 0 300px rgba(255, 255, 255, 0);
    opacity: 0;
  }
}
.explosion1 {
  position: absolute;
  border-radius: 50%;
  background-color: whitesmoke;
  transform: translate(-50%, -50%);
  animation: flash 0.5s forwards;
  z-index: 2;
}

@keyframes flash {
  0% {
    width: 0;
    height: 0;
  }
  70% {
    width: 20px;
    height: 20px;
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}



.explosion2 {
  position: absolute;
  border-radius: 50%;
  background-color: rgb(242, 213, 158);
  transform: translate(-50%, -50%);
  animation: flash2 0.5s forwards;
  z-index: 2;
}

@keyframes flash2 {
  0% {
    width: 0;
    height: 0;
  }
  50% {
    width: 2px;
    height: 2px;
    opacity: 1;
  }
  90% {
    width: 40px;
    height: 40px;
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.explosion4 {
  position: absolute;
  border-radius: 50%;
  background-color: #f34723;
  transform: translate(-50%, -50%);
  animation: flash4 0.4s forwards;
  z-index: 2;
}

@keyframes flash4 {
  0% {
    width: 0;
    height: 0;
    opacity: 0;
  }
  10% {
    width: 2px;
    height: 2px;
  }
  20% {
    width: 20px;
    height: 20px;
    opacity: 0.6;
  }
  30% {
    width: 2px;
    height: 2px;
  }
  100% {
    opacity: 0;
  }
}



/* Partikül temel stilini koru */
.particle {
  position: absolute;
  background-color: azure;
  transform-origin: top;
  z-index: 1;
  opacity: 1;
}

/* Animasyonlar için genel stil */
.move {
  animation: moveParticle 0.1s linear forwards;
}

/* Yukarı hareket animasyonu */
@keyframes moveUp {
  to {
    transform: translateY(-10px);
  }
}

/* Aşağı hareket animasyonu */
@keyframes moveDown {
  to {
    transform: translateY(10px);
  }
}

/* Sola hareket animasyonu */
@keyframes moveLeft {
  to {
    transform: translateX(-10px);
  }
}

/* Sağa hareket animasyonu */
@keyframes moveRight {
  to {
    transform: translateX(10px);
  }
}

/* Yön sınıflarını animasyonlarla ilişkilendir */
.up {
  animation-name: moveUp;
  width: 2px;
  height: 10px;
  margin-top:-8px!important;
}

.down {
  animation-name: moveDown;
  width: 2px;
  height: 10px;
}

.left {
  animation-name: moveLeft;
  width: 10px;
  height: 2px;
  margin-left:-8px!important;
}

.right {
  animation-name: moveRight;
  width: 10px;
  height: 2px;
}



.long-bar, .short-bar {
  position: absolute;
  background: linear-gradient(to right, white 0%, rgb(0, 94, 128) 100%);
  border-radius: 50%;
  z-index:3;
}
@keyframes shockwavelong {
  0% {
    height: 0px;
  }
  100% {
    height: 360px;
  }
}
@keyframes shockwaveshort {
  0% {
    height: 0px;
  }
  100% {
    height: 120px;
  }
}
.long-bar {
  width: 3px;
  height: 360px;
  animation: shockwavelong 0.60s forwards;
}

.short-bar {
  width: 4px;
  height: 120px;
  animation: shockwaveshort 0.60s forwards;
}






.long-bar1, .short-bar1 {
  position: absolute;
  background: linear-gradient(to right, white 0%, rgb(0, 94, 128) 100%);
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.7); /* Parlaklık efekti */
}
@keyframes shockwavelong1 {
  0% {
    height: 0px;
  }
  100% {
    height: 180px;
  }
}
@keyframes shockwaveshort1 {
  0% {
    height: 0px;
  }
  100% {
    height: 60px;
  }
}
.long-bar1 {
  width: 0.75px; /* Orijinal genişliğin %25'i */
  height: 22.5px; /* Orijinal yüksekliğin %25'i */
  animation: shockwavelong1 0.60s infinite alternate; /* Sürekli animasyon */
}

.short-bar1 {
  width: 1px; /* Orijinal genişliğin %25'i */
  height: 7.5px; /* Orijinal yüksekliğin %25'i */
  animation: shockwaveshort1 0.60s infinite alternate; /* Sürekli animasyon */
}
/* @keyframes expandExplosion {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
  }
  100% {
    width: 200px;
    height: 200px;
    opacity: 0;
    background-color: red;
  }
} */

.explosion5 {
  position: absolute;
  border-radius: 500%;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave5 0.5s forwards, pulse5 1s forwards;
  z-index: 1;
}

@keyframes shockwave5 {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
    backdrop-filter: blur(0px);
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7),
                0 0 0 15px rgba(255, 216, 0, 0.8),
                0 0 0 30px rgba(255, 0, 0, 0.6),
                0 0 0 45px rgba(255, 255, 255, 0.4),
                0 0 0 60px rgba(255, 255, 255, 0.2);
  }
  100% {
    width: 200px; /* Genişlik 400px olarak ayarlandı */
    height: 200px; /* Yükseklik 400px olarak ayarlandı */
    opacity: 0;
    backdrop-filter: blur(10px); /* Bulanıklık efekti artırıldı */
    box-shadow: 0 0 0 60px rgba(255, 255, 255, 0),
                0 0 0 90px rgba(255, 216, 0, 0),
                0 0 0 120px rgba(255, 0, 0, 0),
                0 0 0 150px rgba(255, 255, 255, 0),
                0 0 0 180px rgba(255, 255, 255, 0);
  }
}

@keyframes pulse5 {
  0% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(0px);
  }
  70% {
    box-shadow: 0 0 0 20px rgba(255, 255, 255, 0); /* Gölge boyutu artırıldı */
    backdrop-filter: blur(10px); /* Bulanıklık efekti artırıldı */
  }
  100% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0);
    backdrop-filter: blur(0px);
  }
}
.explosion3 {
  position: absolute;
  border-radius: 500%;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave3 0.5s forwards, pulse3 1s forwards;
  z-index: 1;
}

@keyframes shockwave3 {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
    backdrop-filter: blur(0px);
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7),
                0 0 0 15px rgba(255, 216, 0, 0.8),
                0 0 0 30px rgba(255, 0, 0, 0.6),
                0 0 0 45px rgba(255, 255, 255, 0.4),
                0 0 0 60px rgba(255, 255, 255, 0.2);
  }
  100% {
    width: 400px; /* Genişlik 400px olarak ayarlandı */
    height: 400px; /* Yükseklik 400px olarak ayarlandı */
    opacity: 0;
    backdrop-filter: blur(20px); /* Bulanıklık efekti artırıldı */
    box-shadow: 0 0 0 120px rgba(255, 255, 255, 0),
                0 0 0 240px rgba(255, 216, 0, 0),
                0 0 0 360px rgba(255, 0, 0, 0),
                0 0 0 480px rgba(255, 255, 255, 0),
                0 0 0 600px rgba(255, 255, 255, 0);
  }
}

@keyframes pulse3 {
  0% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(0px);
  }
  70% {
    box-shadow: 0 0 0 40px rgba(255, 255, 255, 0); /* Gölge boyutu artırıldı */
    backdrop-filter: blur(10px); /* Bulanıklık efekti artırıldı */
  }
  100% {
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0);
    backdrop-filter: blur(0px);
  }
}





.satellite {
    position: absolute;
    width: 50px;
    height: 50px;
    background: url('sg.png') no-repeat center center;
    background-size: contain;
    /* animation: rotate 4s linear infinite; */
  }

  /* @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  } */

  @keyframes orbit {
  0% { transform: rotate(0deg) translateX(10px); }
  100% { transform: rotate(360deg) translateX(10px); }
}
/*   ---                                            ---                         */
.explosion6 {
  position: absolute;
  border-radius: 500%;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave6 2s cubic-bezier(0.19, 1, 0.22, 1) forwards, 
             pulse6 0.25s ease-out infinite;
  z-index: 1;
}

@keyframes shockwave6 {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
    backdrop-filter: blur(0px);
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.9),
                0 0 0 25px rgba(255, 216, 0, 0.9),
                0 0 0 50px rgba(255, 0, 0, 0.8),
                0 0 0 75px rgba(255, 255, 255, 0.6),
                0 0 0 100px rgba(255, 255, 255, 0.4),
                0 0 0 125px rgba(255, 255, 255, 0.2);
  }
  100% {
    width: 2400px;
    height: 2400px;
    opacity: 0;
    backdrop-filter: blur(40px);
    box-shadow: 0 0 0 150px rgba(255, 255, 255, 0),
                0 0 0 300px rgba(255, 216, 0, 0),
                0 0 0 450px rgba(255, 0, 0, 0),
                0 0 0 600px rgba(255, 255, 255, 0),
                0 0 0 750px rgba(255, 255, 255, 0),
                0 0 0 900px rgba(255, 255, 255, 0);
  }
}

@keyframes pulse6 {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 1);
  }
  50% {
    box-shadow: 0 0 0 100px rgba(255, 255, 255, 0.8);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 1);
  }
}
/* @keyframes pulse6 {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.9);
  }
  70% {
    box-shadow: 0 0 0 30px rgba(255, 255, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.9);
  }
} */

/* .explosion {
  position: absolute;
  border-radius: 500%;
  background-color: white;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: shockwave1 0.2s forwards;
  z-index:1;
}
@keyframes shockwave1 {
  0% {
    width: 0;
    height: 0;
    box-shadow: 0 0 0 0px rgba(255, 255, 255, 0.5),
                0 0 0 15px rgba(255, 255, 255, 0.3),
                0 0 0 30px rgba(255, 255, 255, 0.2),
                0 0 0 45px rgba(255, 255, 255, 0.1),
                0 0 0 60px rgba(255, 255, 255, 0);
  }
  100% {
    width: 200px;
    height: 200px;
    box-shadow: 0 0 0 60px rgba(255, 255, 255, 0),
                0 0 0 120px rgba(255, 255, 255, 0),
                0 0 0 180px rgba(255, 255, 255, 0),
                0 0 0 240px rgba(255, 255, 255, 0),
                0 0 0 300px rgba(255, 255, 255, 0);
    opacity: 0;
  }
} */
.explosion7 {
  position: absolute;
  border-radius: 500%;
  background-color: transparent;
  transform: translate(-50%, -50%);
  animation: red-shockwave 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  z-index: 2;
}

@keyframes red-shockwave {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
    box-shadow: 0 0 0 0px rgba(255, 0, 0, 1);
  }
  100% {
    width: 800px;
    height: 800px;
    opacity: 0;
    box-shadow: 0 0 0 100px rgba(255, 0, 0, 0);
  }
}



        </style>
    </head>
    <body class="unselectable">
      <div id="main" class="unselectable">
<div id="benzersizID"></div>
        <div id="character"><div id="ball"></div><div id="laser1"></div><div id="laser2"></div><div id="ultimatecannon1"></div><div id="ultimatecannon2"></div><div id="railgun1"></div><div id="lasercannon1"></div><div id="lasercannon2"></div><div id="core"></div><div id="core_gen"></div>
          <!-- Uydular -->
    <div class="satellite" style="top: 0; left: 50%;"></div>
    <div class="satellite" style="top: 50%; right: 0;"></div>
    <div class="satellite" style="bottom: 0; left: 50%;"></div>
    <div class="satellite" style="top: 50%; left: 0;"></div>
      </div>
        <!-- <div id="explosion" class="explosion"></div> -->
        <div id="square1" class="square" style="top: 100px; left: 100px;"></div>
        <div id="square2" class="square" style="top: 200px; left: 300px;"></div>
        <div id="square3" class="square" style="top: 400px; left: 500px;"></div>
        <div id="square4" class="square" style="top: 300px; left: 700px;"></div>


        <img src="base1.png" class="imagemodel0" style="top: 1000px; left: 1000px;filter:brightness(70%)!important;">
        <img src="base2.png" class="imagemodel0" style="top: 1000px; left: 1350px;">
        <img src="base1.png" class="imagemodel0" style="top: 1100px; left: 1300px;filter:brightness(70%)!important;transform: rotate(180deg);">
        <img src="base2.png" class="imagemodel0" style="top: 1400px; left: 1500px;">
        <img src="base1.png" class="imagemodel0" style="top: 1232px; left: 1250px;filter:brightness(70%)!important;">
        <img src="base2.png" class="imagemodel0" style="top: 1265px; left: 800px;transform: rotate(180deg);">

        <!-- <img src="img/GEOi6c3WQAAEumP.jpg" class="imagemodel0" style="top: 2300px; left: 2700px;">
        <img src="img/GEOjhE3WAAEMFFm.jpg" class="imagemodel0" style="top: 2496px; left: 268px;">
        <img src="img/GESbIl4XYAAWLwD.jpg" class="imagemodel0" style="top: 2786px; left: 868px;height:auto!important;"> -->
</div>
<div id="coordinates" class="unselectable">X: 1000 | Y: 1000</div>
<!-- Yürüme tuşları -->
<!-- <div id="controls">
  <button onmousedown="startMove('up')" onmouseup="stopMove()" onclick="move('up')">Yukarı</button>
  <button onmousedown="startMove('left')" onmouseup="stopMove()" onclick="move('left')">Sol</button>
  <button onclick="move('auto')">Otomatik</button>
  <button onmousedown="startMove('right')" onmouseup="stopMove()" onclick="move('right')">Sağ</button>
  <button onmousedown="startMove('down')" onmouseup="stopMove()" onclick="move('down')">Aşağı</button>
</div> -->

<div id="controls" draggable="false" ondragstart="return false;" class="unselectable">
  <button id="btnUpLeft" onclick="move('up-left')" onmousedown="startMove('up-left')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="sol-üst.png"></button>
  <button id="btnUp" onclick="move('up')" onmousedown="startMove('up')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="Üst.png"></button>
  <button id="btnUpRight" onclick="move('up-right')" onmousedown="startMove('up-right')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="sağ-üst.png"></button>
  <!-- -->
  <button id="btnLeft" onclick="move('left')" onmousedown="startMove('left')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="Sol.png"></button>
  <button id="btnAuto" onclick="move('auto')"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="rocket.png"></button>
  <button id="btnRight" onclick="move('right')" onmousedown="startMove('right')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="Sağ.png"></button>
  <!-- -->
  <button id="btnDownLeft" onclick="move('down-left')" onmousedown="startMove('down-left')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="sol-alt.png"></button>
  <button id="btnDown" onclick="move('down')" onmousedown="startMove('down')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="Alt.png"></button>
  <button id="btnDownRight" onclick="move('down-right')" onmousedown="startMove('down-right')" onmouseup="stopMove()"><img draggable="false" ondragstart="return false;" class="unselectable" height="32" src="sağ-alt.png"></button>
</div>



</body>
    <script>

let moveInterval;
let isMoving = false;

function startMove(direction) {
    if (!isMoving) {
        isMoving = true;
        moveInterval = setInterval(function() { move(direction); }, 30); // Hareketi başlat ve her 100ms'de tekrarla
    }
}

function stopMove() {
    clearInterval(moveInterval); // Interval'i temizle ve hareketi durdur
    isMoving = false;
}





let main = document.getElementById("main");
let character = document.getElementById("character");
// document.body.style.width = "4000px"; // Haritanın genişliğini ayarla
// document.body.style.height = "4000px"; // Haritanın yüksekliğini ayarla
// document.body.style.position = "relative"; // Pozisyon referansını ayarla

function updateCamera() {
  // Karakterin mevcut konumunu al
  const characterRect = character.getBoundingClientRect();
  
  // Sayfanın ortasına göre karakterin konumunu ayarla
  window.scrollTo({
      top: characterRect.top + characterRect.height/2 + window.scrollY - window.innerHeight / 2,
      left: characterRect.left + characterRect.width/2 + window.scrollX - window.innerWidth / 2,
      behavior: 'auto' // Kaydırma işlemini yumuşak yap
  });
}
let core_gen = document.getElementById("core_gen"); // Topun ID'si 'ball' olsun
let ball = document.getElementById("ball"); // Topun ID'si 'ball' olsun
let laser1 = document.getElementById("laser1"); // Topun ID'si 'ball' olsun
let laser2 = document.getElementById("laser2"); // Topun ID'si 'ball' olsun
let ultimatecannon1 = document.getElementById("ultimatecannon1");
let ultimatecannon2 = document.getElementById("ultimatecannon2");
let railgun1 = document.getElementById("railgun1");
let characterX = 1000;
let characterY = 1000;
var lookDirection = 'up'; // Başlangıç bakış yönü
// let characterWidth = 68; // Karakterin genişliği
// let characterHeight = 277; // Karakterin yüksekliği


    // Karelerin durumlarını tutacak bir nesne
    const squareStates = {
        square1: false,
        square2: false,
        square3: false,
        square4: false
    };

    let keysPressed = {};

window.addEventListener("keydown", (event) => {
    keysPressed[event.key] = true;

    // Çapraz hareketleri algılama
    if ((keysPressed['ArrowUp'] || keysPressed['w']) && (keysPressed['ArrowLeft'] || keysPressed['a'])) {
        move('up-left');
    } else if ((keysPressed['ArrowUp'] || keysPressed['w']) && (keysPressed['ArrowRight'] || keysPressed['d'])) {
        move('up-right');
    } else if ((keysPressed['ArrowDown'] || keysPressed['s']) && (keysPressed['ArrowLeft'] || keysPressed['a'])) {
        move('down-left');
    } else if ((keysPressed['ArrowDown'] || keysPressed['s']) && (keysPressed['ArrowRight'] || keysPressed['d'])) {
        move('down-right');
    } else {
        // Tek yönlü hareketleri algılama
        if (keysPressed['ArrowUp'] || keysPressed['w']) move('up');
        if (keysPressed['ArrowDown'] || keysPressed['s']) move('down');
        if (keysPressed['ArrowLeft'] || keysPressed['a']) move('left');
        if (keysPressed['ArrowRight'] || keysPressed['d']) move('right');
    }

    // character.style.transform = `translate(${characterX}px, ${characterY}px)`;
    // checkCollision();
});

window.addEventListener("keyup", (event) => {
    delete keysPressed[event.key];
});


    // Karakterin hızını tutacak değişken
let speed = 5;

// Karakterin hızını güncelleyecek fonksiyon
function updateSpeed() {
    // Zıt yön tuşlarına basıldığında karakterin hızını sıfırla
    if (((keysPressed['ArrowLeft'] || keysPressed['a']) && (keysPressed['ArrowRight'] || keysPressed['d'])) || ((keysPressed['ArrowUp'] || keysPressed['w']) && (keysPressed['ArrowDown'] || keysPressed['s']))) {
        speed = 0;
    } else {
        speed = 5;
    }
}

    function move(direction) {
        if (direction === 'auto') {
            // Otomatik yürüme için bir interval başlat
            const autoMove = setInterval(() => {
                move(lookDirection);
            }, 30);
            // Otomatik yürümeyi durdurmak için bir yol sağla
            setTimeout(() => { clearInterval(autoMove); }, 7000); // 5 saniye sonra durdur
        }else {
            moveCharacter(direction);
            rotateCharacter(direction);
        }

    }
//     function rotateCharacter(direction) {
//     let rotationAngle = 0; // Dönüş açısı
//     switch (direction) {
//         case 'up':
//             rotationAngle = 0;
//             break;
//         case 'down':
//             rotationAngle = 180;
//             break;
//         case 'left':
//             rotationAngle = -90;
//             break;
//         case 'right':
//             rotationAngle = 90;
//             break;
//         // Çapraz hareketler için ek açılar
//         case 'up-left':
//             rotationAngle = -45;
//             break;
//         case 'down-left':
//             rotationAngle = -135;
//             break;
//         case 'up-right':
//             rotationAngle = 45;
//             break;
//         case 'down-right':
//             rotationAngle = 135;
//             break;
//     }

//     // if ((direction === 'left' || direction === 'right') && lookDirection != 'left' && lookDirection != 'right') {
//     //   // Sağa veya sola dönüşte boyutları değiştir
//     //   [characterWidth, characterHeight] = [characterHeight, characterWidth];
//     // }
//     // // Karakterin dönüş açısına göre boyutlarını güncelle
//     // if ((direction === 'up' || direction === 'down') && lookDirection != 'up' && lookDirection != 'down') {
//     // // Sağa veya sola dönüşte boyutları değiştir
//     // [characterWidth, characterHeight] = [characterHeight, characterWidth];
//     // }
//     // lookDirection = direction; // Bakış yönünü güncelle
    
//     character.style.transform = `translate(${characterX}px, ${characterY}px) rotate(${rotationAngle}deg)`;
//     // ball.style.transform = `rotate(${rotationAngle}deg)`; // Topun da dönmesi için
// }
function rotateCharacter(direction) {
  if(speed==0){return;}
  // Yeni yönü kontrol et ve eğer farklıysa güncelle
  if (lookDirection !== direction) {
    setTimeout(() => {
      speed = 1;
    }, "2000");
    speed = 0;
    lookDirection = direction; // Bakış yönünü güncelle

    // Yumuşak dönüş için CSS transition ekleyin
    character.style.transition = 'transform 0.5s ease-in-out';

    // Mevcut açıyı al
    const currentTransform = window.getComputedStyle(character).transform;
    const matrixValues = currentTransform.match(/matrix.*\((.+)\)/);
    const currentAngle = matrixValues ? rotationMatrixToDegrees(matrixValues[1].split(', ')) : 0;

    // Yeni açıyı hesapla
    const angles = {
      'up': 0,
      'down': 180,
      'left': 270,
      'right': 90,
      'up-left': 315,
      'down-left': 225,
      'up-right': 45,
      'down-right': 135
    };
    const targetAngle = angles[direction];

    // En kısa yoldan dönmeyi hesapla
    let angleDifference = (targetAngle - currentAngle + 360) % 360;
    angleDifference = angleDifference > 180 ? angleDifference - 360 : angleDifference;

    // Yeni dönüş açısını uygula
    character.style.transform = `translate(${characterX}px, ${characterY}px) rotate(${currentAngle + angleDifference}deg)`;
  }else{
    let rotationAngle = 0; // Dönüş açısı
    switch (direction) {
        case 'up':
            rotationAngle = 0;
            break;
        case 'down':
            rotationAngle = 180;
            break;
        case 'left':
            rotationAngle = -90;
            break;
        case 'right':
            rotationAngle = 90;
            break;
        // Çapraz hareketler için ek açılar
        case 'up-left':
            rotationAngle = -45;
            break;
        case 'down-left':
            rotationAngle = -135;
            break;
        case 'up-right':
            rotationAngle = 45;
            break;
        case 'down-right':
            rotationAngle = 135;
            break;
    }
    // Yumuşak dönüş için CSS transition ekleyin
    character.style.transition = 'none';
    character.style.transform = `translate(${characterX}px, ${characterY}px) rotate(${rotationAngle}deg)`;
  }
}

// Matris değerlerinden açıyı hesaplayan fonksiyon
function rotationMatrixToDegrees(matrix) {
  const a = matrix[0];
  const b = matrix[1];
  return Math.round(Math.atan2(b, a) * (180 / Math.PI));
}


function rotateElement(elementId, eventX, eventY) {
  const element = document.getElementById(elementId); // Elementi ID'ye göre seç
  const elementPosition = element.getBoundingClientRect(); // Elementin pozisyonunu al

  // Farenin element'e göre pozisyonunu hesapla
  const mouseX = eventX;
  const mouseY = eventY;
  const centerX = elementPosition.left + elementPosition.width / 2;
  const centerY = elementPosition.top + elementPosition.height / 2;

  // Açıyı hesapla
  const deltaX = mouseX - centerX;
  const deltaY = mouseY - centerY;
  var eklenecek = 0;
  if (lookDirection == "up") { eklenecek = 82; }
  if (lookDirection == "down") { eklenecek = -82; }
  if (lookDirection == "left") { eklenecek = -175; }
  if (lookDirection == "right") { eklenecek = 0; }
  if (lookDirection == "up-left") { eklenecek = 125; }
  if (lookDirection == "down-left") { eklenecek = -140; }
  if (lookDirection == "up-right") { eklenecek = 55; }
  if (lookDirection == "down-right") { eklenecek = -50; }
  const rotationAngle = (Math.atan2(deltaY, deltaX) * (180 / Math.PI)) + eklenecek;

  // Elementi döndür
  element.style.transform = `rotate(${rotationAngle}deg)`;
}
function rotateBall(eventX,eventY) {
  // 'ball', 'laser1', 'laser2' için döngü
  ['ball', 'laser1', 'laser2', 'ultimatecannon1', 'ultimatecannon2', 'railgun1', 'lasercannon1', 'lasercannon2'].forEach((id) => {
    rotateElement(id, event.clientX, event.clientY);
  });
}


    // Karakteri hareket ettirme fonksiyonu
    function moveCharacter(direction) {
        updateSpeed(); // Hızı güncelle
        if(speed==0){return;}
        const moveAmount = speed; // Hızı kullanarak hareket miktarını ayarla
        let newX = characterX;
  let newY = characterY;

  switch (direction) {
    case 'up':
      newY -= moveAmount;
      break;
    case 'down':
      newY += moveAmount;
      break;
    case 'left':
      newX -= moveAmount;
      break;
    case 'right':
      newX += moveAmount;
      break;
    // Çapraz hareketler
    case 'up-left':
      newY -= moveAmount;
      newX -= moveAmount;
      break;
    case 'down-left':
      newY += moveAmount;
      newX -= moveAmount;
      break;
    case 'up-right':
      newY -= moveAmount;
      newX += moveAmount;
      break;
    case 'down-right':
      newY += moveAmount;
      newX += moveAmount;
      break;
  }
  // Harita sınırlarını kontrol et
  const mainRect = main.getBoundingClientRect();
  if (newX >= 0 && newX <= mainRect.width-character.offsetWidth) {
    characterX = newX;
  }
  if (newY >= 0 && newY <= mainRect.height-character.offsetHeight) {
    characterY = newY;
  }

        updateCamera();
        // character.style.transform = `translate(${characterX}px, ${characterY}px)`;
        checkCollision();
    }

    // Kareler için çarpışma algılama ve durum kontrolü
    function checkCollision() {
        const squares = document.querySelectorAll(".square");
        const characterRect = character.getBoundingClientRect();
        squares.forEach((square) => {
            const squareRect = square.getBoundingClientRect();
            const isColliding = characterRect.left < squareRect.right && characterRect.right > squareRect.left &&
                                characterRect.top < squareRect.bottom && characterRect.bottom > squareRect.top;
            const squareId = square.id;
            if (isColliding && !squareStates[squareId]) {
                console.log("Kareye girdiniz!");
                squareStates[squareId] = true; // Kareye girişi kaydet
            } else if (!isColliding && squareStates[squareId]) {
                squareStates[squareId] = false; // Kareye çıkışı kaydet
            }
        });
    }




    const explosion = document.getElementById('explosion');

// Füze gönderme fonksiyonu
function launchLaser(eventX,eventY,targetx) {
    const laser = document.createElement('div');
    laser.classList.add('laser');
    document.body.appendChild(laser);

    // Füzenin başlangıç konumunu ayarla
    const laser1Rect = targetx.getBoundingClientRect();
    const startX = (laser1Rect.left + laser1Rect.width / 2) + window.scrollX;
    const startY = (laser1Rect.top + laser1Rect.height / 2) + window.scrollY;
    laser.style.left = startX + 'px';
    laser.style.top = startY + 'px';

    // Füzenin hedefe doğru hareketini ayarla
    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;
    laser.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;

    // Hedefin uzaklığına göre füzenin hızını hesapla
    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 2500; // Hedefe ulaşması için gereken süre (milisaniye cinsinden)
    laser.style.transition = `all ${speed}s linear`;

    // Füzenin hedefe doğru hareketini başlat
    laser.style.left = targetX - laser.offsetWidth / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir
    laser.style.top = targetY - laser.offsetHeight / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir

    // Şok dalgası oluşturma fonksiyonu
    function createLaserShockwave() {
        for (let i = 0; i < 2; i++) {
            createShockwave('long');
        }
        for (let i = 0; i < 1; i++) {
            createShockwave('short');
        }
    }

    // Şok dalgası oluştur
    function createShockwave(type) {
        const angle = Math.round(Math.random() * 360);
        // const shockwave = document.createElement('div');
        // shockwave.classList.add(type === 'long' ? 'long-bar' : 'short-bar');
        // document.body.appendChild(shockwave);

        // // Şok dalgasının başlangıç konumunu lazerle aynı yap
        // const laserRect = laser.getBoundingClientRect();
        // shockwave.style.left = `${laserRect.left + window.scrollX}px`;
        // shockwave.style.top = `${laserRect.top + window.scrollY}px`;

        // // Rastgele açıyla dönüşüm uygula
        // shockwave.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;

        // // Lazer hareket ettiğinde şok dalgasının konumunu güncelle
        // requestAnimationFrame(() => {
        //     const laserRect = laser.getBoundingClientRect();
        //     shockwave.style.left = `${laserRect.left + window.scrollX - shockwave.offsetWidth / 2}px`;
        //     shockwave.style.top = `${laserRect.top + window.scrollY - shockwave.offsetHeight / 2}px`;
        // });

        // // Animasyon bitiminde elementi kaldır
        // shockwave.addEventListener('animationend', () => {
        //     shockwave.remove();
        // });
        // Şok dalgasının başlangıç konumunu lazerin başlangıç konumuna ayarla
        const shockwave = document.createElement('div');
        shockwave.classList.add(type === 'long' ? 'long-bar1' : 'short-bar1');
        document.body.appendChild(shockwave);

        const laserRect = laser.getBoundingClientRect();
        shockwave.style.left = `${laserRect.left + window.scrollX - shockwave.offsetWidth / 2}px`;
        shockwave.style.top = `${laserRect.top + window.scrollY - shockwave.offsetHeight / 2}px`;

        // Rastgele açıyla dönüşüm uygula
        shockwave.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;
        
        // Şok dalgasının hedefe doğru bağımsız hareketini ayarla
        const shockwaveTargetX = targetX - shockwave.offsetWidth / 2;
        const shockwaveTargetY = targetY - shockwave.offsetHeight / 2;
        const shockwaveSpeed = speed; // Lazerle aynı hızda olacak

        shockwave.style.transition = `all ${shockwaveSpeed}s linear`;
        shockwave.style.left = `${shockwaveTargetX}px`;
        shockwave.style.top = `${shockwaveTargetY}px`;

        // Animasyon bitiminde elementi kaldır
        shockwave.addEventListener('transitionend', () => {
            shockwave.remove();
        });
    }

    // Şok dalgasını oluştur
    createLaserShockwave();

    // Hedefe ulaştığında patlama gerçekleşsin
    setTimeout(() => {
        laser.remove(); // Füzeyi kaldır
        createExplosion1(targetX, targetY); // Patlama efekti fonksiyonunu çağır
    }, speed * 1000); // Hızı milisaniyeye çevir
}

// function createLaserShockwave(type, centerX, centerY) {
//   const angle = Math.round(Math.random() * 360);
//   const shockwave = document.createElement('div');
//   shockwave.classList.add(type === 'long' ? 'long-bar' : 'short-bar');
//   document.body.appendChild(shockwave);

//   // Şok dalgasının merkezini ayarla
//   shockwave.style.left = `${centerX}px`;
//   shockwave.style.top = `${centerY}px`;
//   // Rastgele açıyla dönüşüm uygula
//   shockwave.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;

//   // Animasyonu başlat
// //   shockwave.style.animation = 'shockwave 1.5s forwards';

//   // Animasyon bitiminde elementi kaldır
//   shockwave.addEventListener('animationend', () => {
//     shockwave.remove();
//   });
// }


function launchflash(eventX, eventY) {

    const ballflash = document.createElement('div');
    ballflash.classList.add('ballflash');
    document.body.appendChild(ballflash);

    const cannonRect = railgun1.getBoundingClientRect();
    const startX = (cannonRect.left + cannonRect.width / 2) + window.scrollX;
    const startY = (cannonRect.top + cannonRect.height / 2) + window.scrollY;
    ballflash.style.left = startX + 'px';
    ballflash.style.top = startY + 'px';

    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;

    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 2020;

    // Füzenin başlangıç açısını ayarla ve sabitle
    const angle = Math.atan2(targetY - startY, targetX - startX);
    ballflash.style.transform = `rotate(${angle}rad)`;

    ballflash.style.transition = `left ${speed}s linear, top ${speed}s linear`;

    // Füzenin arkasında iz bırak
    const trail = document.createElement('div');
    trail.classList.add('trail1');
    trail.style.transition = `width ${speed}s linear`;
    trail.style.animation = `blink1 ${speed}s forwards`;
    document.body.appendChild(trail);

    // İzin başlangıç konumunu ayarla
    trail.style.position = 'absolute';
    trail.style.left = startX + 'px';
    trail.style.top = startY + 'px';
    trail.style.height = '2px';
    trail.style.backgroundColor = '#FCEAFF';
    trail.style.transformOrigin = '0 0';
    trail.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;
    trail.style.width = '0px';

    // İzin genişliğini animasyonla artır
    setTimeout(() => {
        trail.style.width = distance + 'px';
    }, 0);


    setTimeout(() => {
      ballflash.style.left = targetX - ballflash.offsetWidth / 2 + 'px';
      ballflash.style.top = targetY - ballflash.offsetHeight / 2 + 'px';
    }, 0);

    setTimeout(() => {
      ballflash.remove();
      trail.remove(); // İzi kaldır
        createExplosion3(targetX, targetY);
    }, speed * 1000);
}
let currentLaserCannon = 'u1'; // Hangi silahın ateşlemeye hazır olduğunu belirten değişken

function launchULaserCannon(eventX, eventY) {
    const cannon = (currentLaserCannon === 'u1') ? lasercannon1 : lasercannon2;
    currentLaserCannon = (currentLaserCannon === 'u1') ? 'u2' : 'u1';

    const l2 = document.createElement('div');
    l2.classList.add('laser2object');
    document.body.appendChild(l2);

    const cannonRect = cannon.getBoundingClientRect();
    const startX = (cannonRect.left + cannonRect.width / 2) + window.scrollX;
    const startY = (cannonRect.top + cannonRect.height / 2) + window.scrollY;
    l2.style.left = startX + 'px';
    l2.style.top = startY + 'px';

    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;

    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 5250;

    // Füzenin başlangıç açısını ayarla ve sabitle
    const angle = Math.atan2(targetY - startY, targetX - startX);
    l2.style.transform = `rotate(${angle}rad)`;

    l2.style.transition = `left ${speed}s linear, top ${speed}s linear`;

    setTimeout(() => {
        l2.style.left = targetX - l2.offsetWidth / 2 + 'px';
        l2.style.top = targetY - l2.offsetHeight / 2 + 'px';
    }, 0);

    // Füzenin arkasında iz bırak
    const trail = document.createElement('div');
    trail.classList.add('trail1');
    trail.style.transition = `width ${speed}s linear`;
    trail.style.animation = `blink2 ${speed}s forwards`;
    document.body.appendChild(trail);

    // İzin başlangıç konumunu ayarla
    trail.style.position = 'absolute';
    trail.style.left = startX + 'px';
    trail.style.top = startY + 'px';
    trail.style.height = '4px';
    trail.style.backgroundColor = '#f34723';
    trail.style.borderRadius = '5%';
    trail.style.transformOrigin = '0 0';
    trail.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;
    trail.style.width = '0px';
    trail.style.backdropFilter = 'blur(5px)';
    trail.style.filter = 'blur(5px)';

    // İzin genişliğini animasyonla artır
    setTimeout(() => {
        trail.style.width = distance + 'px';
        trail.style.opacity = '0.655';
    }, 0);

    setTimeout(() => {
        l2.remove();
        trail.remove(); // İzi kaldır
        createExplosion4(targetX, targetY);
        createExplosion5(targetX, targetY);
    }, speed * 1000);
}





let currentCannon = 'u1'; // Hangi silahın ateşlemeye hazır olduğunu belirten değişken

function launchultimateCannon(eventX, eventY) {
    const cannon = (currentCannon === 'u1') ? ultimatecannon1 : ultimatecannon2;
    currentCannon = (currentCannon === 'u1') ? 'u2' : 'u1';

    const fireball = document.createElement('div');
    fireball.classList.add('fireball');
    document.body.appendChild(fireball);

    const cannonRect = cannon.getBoundingClientRect();
    const startX = (cannonRect.left + cannonRect.width / 2) + window.scrollX;
    const startY = (cannonRect.top + cannonRect.height / 2) + window.scrollY;
    fireball.style.left = startX + 'px';
    fireball.style.top = startY + 'px';

    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;

    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 1000;

    // Füzenin başlangıç açısını ayarla ve sabitle
    const angle = Math.atan2(targetY - startY, targetX - startX);
    fireball.style.transform = `rotate(${angle}rad)`;

    fireball.style.transition = `left ${speed}s linear, top ${speed}s linear`;

    setTimeout(() => {
        fireball.style.left = targetX - fireball.offsetWidth / 2 + 'px';
        fireball.style.top = targetY - fireball.offsetHeight / 2 + 'px';
    }, 0);

    setTimeout(() => {
        fireball.remove();
        createExplosion2(targetX, targetY);
    }, speed * 1000);
}



// Füze gönderme fonksiyonu
function launchMissile(eventX,eventY) {
    const missile = document.createElement('div');
    missile.classList.add('missile');
    document.body.appendChild(missile);

    // Füzenin başlangıç konumunu ayarla
    const ballRect = ball.getBoundingClientRect();
    const startX = (ballRect.left + ballRect.width / 2) + window.scrollX;
    const startY = (ballRect.top + ballRect.height / 2) + window.scrollY;
    missile.style.left = startX + 'px';
    missile.style.top = startY + 'px';

    // Füzenin hedefe doğru hareketini ayarla
    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;
    
    // Hedefin uzaklığına göre füzenin hızını hesapla
    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 500; // Hedefe ulaşması için gereken süre (milisaniye cinsinden)
    missile.style.transition = `all ${speed}s linear`;

    // Füzenin arkasında iz bırak
    const trail = document.createElement('div');
    trail.classList.add('trail1');
    trail.style.transition = `width ${speed}s linear`;
    trail.style.animation = `blink1 ${speed}s forwards`;
    document.body.appendChild(trail);

    // İzin başlangıç konumunu ayarla
    trail.style.position = 'absolute';
    trail.style.left = startX + 'px';
    trail.style.top = startY + 'px';
    trail.style.height = '2px';
    trail.style.backgroundColor = '#FCEAFF';
    trail.style.transformOrigin = '0 0';
    trail.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;
    trail.style.width = '0px';

    // İzin genişliğini animasyonla artır
    setTimeout(() => {
        trail.style.width = distance + 'px';
    }, 0);

    // Füzenin hedefe doğru hareketini başlat
    setTimeout(() => {
        missile.style.left = targetX - missile.offsetWidth / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir
        missile.style.top = targetY - missile.offsetHeight / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir
    }, 0);

    // Hedefe ulaştığında patlama gerçekleşsin
    setTimeout(() => {
        missile.remove(); // Füzeyi kaldır
        trail.remove(); // İzi kaldır
        createExplosion(targetX, targetY); // Patlama efekti fonksiyonunu çağır
    }, speed * 1000); // Hızı milisaniyeye çevir
}

function createShockwave(type, centerX, centerY) {
  const angle = Math.round(Math.random() * 360);
  const shockwave = document.createElement('div');
  shockwave.classList.add(type === 'long' ? 'long-bar' : 'short-bar');
  document.body.appendChild(shockwave);

  // Şok dalgasının merkezini ayarla
  shockwave.style.left = `${centerX}px`;
  shockwave.style.top = `${centerY}px`;
  // Rastgele açıyla dönüşüm uygula
  shockwave.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;

  // Animasyonu başlat
//   shockwave.style.animation = 'shockwave 1.5s forwards';

  // Animasyon bitiminde elementi kaldır
  shockwave.addEventListener('animationend', () => {
    shockwave.remove();
  });
}

function createExplosion(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation
  explosion.classList.add('shockwave1');

  // Şok dalgalarını oluştur
  for (let i = 0; i < 3; i++) {
    createShockwave("long",x,y);
  }
  for (let i = 0; i < 6; i++) {
    createShockwave("short",x,y);
  }

  // Listen for the end of the animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}
function createExplosion1(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion1');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation with a bright flash
  explosion.classList.add('flash');

  // Create particles in four directions
  createParticle(x, y, 'up');
  createParticle(x, y, 'down');
  createParticle(x, y, 'left');
  createParticle(x, y, 'right');

  // Listen for the end of the flash animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}
function createExplosion2(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion2');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation with a bright flash
  explosion.classList.add('flash2');

  // Listen for the end of the flash animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}
function createExplosion3(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion3');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation with a bright flash
  explosion.classList.add('shockwave3','pulse3');

  // Listen for the end of the flash animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}
function createExplosion4(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion4');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation with a bright flash
  explosion.classList.add('flash4');

  // Listen for the end of the flash animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}
function createExplosion5(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion5');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation with a bright flash
  explosion.classList.add('shockwave5','pulse5');

  // Listen for the end of the flash animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}

function createParticle(x, y, direction) {
  const particle = document.createElement('div');
  particle.classList.add('particle', direction);
  document.body.appendChild(particle);

  particle.style.left = x + 'px';
  particle.style.top = y + 'px';

  // Trigger reflow
  void particle.offsetWidth;

  // Start the particle animation
  particle.classList.add('move');

  // Listen for the end of the animation to remove the particle element
  particle.addEventListener('animationend', function() {
    particle.remove();
  });
}


// window.addEventListener('click', attack);
// function attack(event){
//   launchMissile(event); // Füze
//   launchLaser(event,laser1); // Lazer 1
//   launchLaser(event,laser2); // Lazer 2
// }

let missileCooldown = 1200; // Füze için bekleme süresi
let isAutomaticMode = false; // Otomatik mod varsayılan olarak kapalı
let lastExecutionTimeMissile = 0;
let attackInterval; // Sürekli saldırı için interval tanımı
let lastMousePosition = { x: 0, y: 0 }; // Son fare pozisyonunu saklamak için bir nesne


let lastExecutionTimeFireball = 0;
let FireballCooldown = 400; // Füze için bekleme süresi

let lastExecutionTimeFlash = 0;
let FlashCooldown = 2500; // Füze için bekleme süresi

let lastExecutionTimeULaserCannon = 0;
let ULaserCannonCooldown = 275; // Füze için bekleme süresi


let lastExecutionTimeFusion = 0;
let FusionCooldown = 5900; // Füze için bekleme süresi
var timeoutId;




// Saldırı fonksiyonu
function attack() {
  const currentTime = Date.now(); // Şu anki zamanı al
  if (currentTime - lastExecutionTimeFlash > FlashCooldown) { // Eğer son çalışmadan 1200ms geçtiyse
    launchflash(lastMousePosition.x,lastMousePosition.y);
    lastExecutionTimeFlash = currentTime; // Son çalışma zamanını güncelle
  }
  if (currentTime - lastExecutionTimeMissile > missileCooldown) { // Eğer son çalışmadan 1200ms geçtiyse
    launchMissile(lastMousePosition.x,lastMousePosition.y); // Füze
    lastExecutionTimeMissile = currentTime; // Son çalışma zamanını güncelle
  }
  launchLaser(lastMousePosition.x,lastMousePosition.y, laser1); // Lazer 1
  launchLaser(lastMousePosition.x,lastMousePosition.y, laser2); // Lazer 2
  if (currentTime - lastExecutionTimeFireball > FireballCooldown) { // Eğer son çalışmadan 1200ms geçtiyse
    launchultimateCannon(lastMousePosition.x,lastMousePosition.y);
    lastExecutionTimeFireball = currentTime; // Son çalışma zamanını güncelle
  }
  if (currentTime - lastExecutionTimeULaserCannon > ULaserCannonCooldown) { // Eğer son çalışmadan 1200ms geçtiyse
    launchULaserCannon(lastMousePosition.x,lastMousePosition.y);
    lastExecutionTimeULaserCannon = currentTime; // Son çalışma zamanını güncelle
  }
  if (currentTime - lastExecutionTimeFusion > FusionCooldown) {
  if (!timeoutId) { // Eğer timeoutId null veya undefined ise, yani daha önce bir setTimeout çağrısı yapılmamışsa
    timeoutId = setTimeout(function() {
      createShockwave6();
      launchMissile6(lastMousePosition.x, lastMousePosition.y);
      // setTimeout tamamlandığında timeoutId'yi sıfırla
      timeoutId = null;
    }, 1000);
    regen_fusion_attack(lastMousePosition.x, lastMousePosition.y);
    lastExecutionTimeFusion = currentTime;
  }
}
  createSmoke();
}

// Otomatik modu değiştirme fonksiyonu
function toggleAutomaticMode() {
  isAutomaticMode = !isAutomaticMode;
  console.log(`Otomatik mod ${isAutomaticMode ? 'aktif' : 'pasif'}`);
}

// Fare tıklama olayını dinleme ve saldırı fonksiyonunu çağırma
main.addEventListener('click', attack);

// Fare basılı tutma olayını dinleme ve sürekli saldırıyı başlatma
main.addEventListener('mousedown', () => {
  isAutomaticMode = true;
  if (!attackInterval) { // Eğer interval zaten ayarlanmadıysa
    attackInterval = setInterval(attack, 100); // Belirli aralıklarla saldırıyı başlat
  }
});

// Fare bırakma olayını dinleme ve sürekli saldırıyı durdurma
window.addEventListener('mouseup', () => {
  isAutomaticMode = false;
  clearInterval(attackInterval); // Interval'i temizle
  attackInterval = null; // Interval değişkenini sıfırla
});

// Fare hareket olayını dinleme ve hedef pozisyonunu güncelleme
window.addEventListener('mousemove', (event) => {
  lastMousePosition = { x: event.clientX, y: event.clientY }; // Son fare pozisyonunu güncelle
  rotateBall(lastMousePosition.x,lastMousePosition.y);
});

window.onload = function() {
  setTimeout(()=>{
    move("up");
  updateCamera();
  },1000)
};
// Tüm img etiketlerini seç
var images = document.getElementsByTagName("*");

// Her bir img etiketi için sürüklenmeyi engelle
for (var i = 0; i < images.length; i++) {
  images[i].ondragstart = function() { return false; };
}
  // Koordinatları güncelleme fonksiyonu
  function updateCoordinates() {
    // Div içindeki metni güncelle
    document.getElementById('coordinates').textContent = 'X: ' + characterX + ' | Y: ' + characterY;
  }

  // Her 100ms'de koordinatları güncelle
  setInterval(updateCoordinates, 100);

// Duman parçacıklarını saklamak için bir dizi
let smokeBubbles = [];

// Karakterin son konumunu saklamak için değişkenler
let lastX = characterX + (character.offsetWidth / 2);
let lastY = characterY + (character.offsetHeight / 2);

// Duman oluşturma fonksiyonu
function createSmoke() {
  // Yeni duman parçacığı oluştur
  const smoke = document.createElement('div');
  smoke.classList.add('smoke');
  main.appendChild(smoke);

  // Dumanın konumunu ayarla
  smoke.style.left = lastX + 'px';
  smoke.style.top = lastY + 'px';

  smoke.style.height = 118 + 'px';
  smoke.style.width = 118 + 'px';

  smoke.style.opacity = 0.51;

  // Eğer karakterin konumu değişmemişse ve duman parçacıkları varsa, son duman parçacığını büyüt
  if (characterX + (character.offsetWidth / 2) === lastX && 
      characterY + (character.offsetHeight / 2) === lastY && 
      smokeBubbles.length > 0) {
    let lastBubble = smokeBubbles[smokeBubbles.length - 1];
    let newSize = parseInt(lastBubble.style.width) + 1.012;
    let newSize1 = parseFloat(lastBubble.style.opacity) + 0.005;
    if(newSize1<0.83){
      lastBubble.style.opacity = newSize1;
    }
    if(newSize<1200){
      if(newSize>160){
        newSize=newSize+8;
        if(newSize>390){
          newSize=newSize+7;
        }
      }
      lastBubble.style.width = newSize + 'px';
      lastBubble.style.height = newSize + 'px';
    }
    smoke.remove();


  } else {
    // Karakterin konumu değiştiyse yeni duman parçacığını diziye ekle
    smokeBubbles.push(smoke);
  }

  // Duman parçacıkları listesinin uzunluğunu kontrol et ve 30'dan fazla ise ilk parçacığı kaldır
  if (smokeBubbles.length > 10) {
    let removedBubble = smokeBubbles.shift();
    removedBubble.remove(); // Listeden kaldırılan duman parçacığını DOM'dan kaldır
  }

  // Karakterin son konumunu güncelle
  lastX = characterX + (character.offsetWidth / 2);
  lastY = characterY + (character.offsetHeight / 2);
}




///////////////////////////////////////

// Füze gönderme fonksiyonu
function launchMissile6(eventX,eventY) {
    const missile = document.createElement('div');
    missile.classList.add('missile');
    document.body.appendChild(missile);

    // Füzenin başlangıç konumunu ayarla
    const ballRect = core_gen.getBoundingClientRect();
    const startX = (ballRect.left + ballRect.width / 2) + window.scrollX;
    const startY = (ballRect.top + ballRect.height / 2) + window.scrollY;
    missile.style.height = '50px';
    missile.style.width = '50px';
    missile.style.backdropFilter = 'blur(1.5rem)';
    missile.style.filter = 'blur(1.5rem)';
    missile.style.left = startX + 'px';
    missile.style.top = startY + 'px';

    // Füzenin hedefe doğru hareketini ayarla
    const targetX = eventX + window.scrollX;
    const targetY = eventY + window.scrollY;
    
    // Hedefin uzaklığına göre füzenin hızını hesapla
    const distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
    const speed = distance / 350; // Hedefe ulaşması için gereken süre (milisaniye cinsinden)
    missile.style.transition = `all ${speed}s linear`;

    // Füzenin arkasında iz bırak
    const trail = document.createElement('div');
    trail.classList.add('trail1');
    trail.style.transition = `width ${speed}s linear`;
    trail.style.animation = `blink1 ${speed}s forwards`;
    document.body.appendChild(trail);

    // İzin başlangıç konumunu ayarla
    trail.style.position = 'absolute';
    trail.style.left = startX + 'px';
    trail.style.top = startY + 'px';
    trail.style.height = '2px';
    trail.style.backgroundColor = '#FCEAFF';
    trail.style.transformOrigin = '0 0';
    trail.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;
    trail.style.width = '0px';

    // İzin genişliğini animasyonla artır
    setTimeout(() => {
        trail.style.width = distance + 'px';
    }, 0);

    // Füzenin hedefe doğru hareketini başlat
    setTimeout(() => {
        missile.style.left = targetX - missile.offsetWidth / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir
        missile.style.top = targetY - missile.offsetHeight / 2 + 'px'; // Füzenin merkezini hedefin merkezine getir
    }, 0);

    // Hedefe ulaştığında patlama gerçekleşsin
    setTimeout(() => {
        missile.remove(); // Füzeyi kaldır
        trail.remove(); // İzi kaldır
        createExplosion6(targetX, targetY); // Patlama efekti fonksiyonunu çağır
    }, speed * 1000); // Hızı milisaniyeye çevir
}

function createShockwave6(type) {
  // Füzenin başlangıç konumunu ayarla
  const ballRect = core_gen.getBoundingClientRect();
  const startX = (ballRect.left + ballRect.width / 2) + window.scrollX;
  const startY = (ballRect.top + ballRect.height / 2) + window.scrollY;
  const shockwave = document.createElement('div');
  shockwave.classList.add('explosion7');
  document.body.appendChild(shockwave);

  shockwave.style.left = startX + 'px';
  shockwave.style.top = startY + 'px';

  // Trigger reflow to ensure the animation starts
  void shockwave.offsetWidth;

  // Start the explosion animation
  shockwave.classList.add('red-shockwave');

  // Animasyon bitiminde elementi kaldır
  shockwave.addEventListener('animationend', () => {
    shockwave.remove();
  });
}

function createExplosion6(x, y) {
  const explosion = document.createElement('div');
  explosion.classList.add('explosion6');
  document.body.appendChild(explosion);

  explosion.style.left = x + 'px';
  explosion.style.top = y + 'px';

  // Trigger reflow to ensure the animation starts
  void explosion.offsetWidth;

  // Start the explosion animation
  explosion.classList.add('shockwave6','pulse6');

  // Şok dalgalarını oluştur
  // for (let i = 0; i < 3; i++) {
  //   createShockwave6("long",x,y);
  // }
  // for (let i = 0; i < 6; i++) {
  //   createShockwave6("short",x,y);
  // }
  // Listen for the end of the animation to remove the explosion element
  explosion.addEventListener('animationend', function() {
    explosion.remove();
  });
}















// Uyduların core_gen etrafında dönmesi ve açılarını kaydetmesi
const satellites = document.querySelectorAll('.satellite');
let sat_def_angle = [];

function recordSatelliteAngles() {
  const hole = core_gen.getBoundingClientRect();
  const targetX = (hole.left + hole.width / 2) + window.scrollX;
  const targetY = (hole.top + hole.height / 2) + window.scrollY;

  satellites.forEach((sat, index) => {
    const rectSat = sat.getBoundingClientRect();
    const startX = (rectSat.left + rectSat.width / 2) + window.scrollX;
    const startY = (rectSat.top + rectSat.height / 2) + window.scrollY;

    const angle = Math.atan2(targetY - startY, targetX - startX);
    // Açıyı diziye kaydet
    sat_def_angle[index] = angle;
    // Uyduyu döndür
    sat.style.transform = `rotate(${angle}rad)`;
  });
}

// Daha önce kaydedilen açıları uygulayan fonksiyon
function applyRecordedAngles() {
  satellites.forEach((sat, index) => {
    // Kaydedilen açıyı al ve uygula
    const recordedAngle = sat_def_angle[index];
    sat.style.transform = `rotate(${recordedAngle}rad)`;
  });
}

// Açıları kaydet
recordSatelliteAngles();



    // Ateş etme fonksiyonu
    function regen_fusion_attack(eventX,eventY) {
        // Çizgi sonu
        const hole = core_gen.getBoundingClientRect();
        const targetX = (hole.left + hole.width / 2) + window.scrollX;
        const targetY = (hole.top + hole.height / 2) + window.scrollY;
        // Kaydedilen açıları uygula
        applyRecordedAngles();
      satellites.forEach(sat => {
        // Çizgi başlangıcı
        var satRect = sat.getBoundingClientRect();
        var startX = (satRect.left + satRect.width / 2) + window.scrollX;
        var startY = (satRect.top + satRect.height / 2) + window.scrollY;

        var distance = Math.sqrt(Math.pow(targetX - startX, 2) + Math.pow(targetY - startY, 2));
        var speed = distance / 1000;
        // const angle = Math.atan2(targetY - startY, targetX - startX);
        sat.style.animation = ``;
        // sat.style.transform = `rotate(${angle}rad)`;
        // Füzenin arkasında iz bırak
        const trail = document.createElement('div');
        trail.classList.add('trail1');
        trail.style.transition = `width ${speed}s linear`;
        trail.style.animation = `blink1 ${speed}s forwards`;
        document.body.appendChild(trail);

        // İzin başlangıç konumunu ayarla
        trail.style.position = 'absolute';
        trail.style.left = startX + 'px';
        trail.style.top = startY + 'px';
        trail.style.height = '12px';
        trail.style.backgroundColor = '#f34723';
        trail.style.borderRadius = '5%';
        trail.style.transformOrigin = '0 0';
        trail.style.transform = `rotate(${Math.atan2(targetY - startY, targetX - startX)}rad)`;
        trail.style.width = '0px';
        // trail.style.backdropFilter = 'blur(5px)';
        // trail.style.filter = 'blur(5px)';

        // İzin genişliğini animasyonla artır
        setTimeout(() => {
            trail.style.width = distance + 'px';
            trail.style.opacity = '0.655';
        }, 0);

        setTimeout(() => {
            trail.remove(); // İzi kaldır
            setTimeout(() => {
              sat.style.animation = `orbit 10s infinite linear`;
            }, 3500);
        }, speed * 1000);
      });
  }
    </script>
</html>